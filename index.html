<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina Books | Premium Bookstore</title>
    <meta name="description" content="Discover premium books from the world's best authors.">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#8b5cf6">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512x512.png">

    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Lumina Books">

    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileColor" content="#8b5cf6">
    <meta name="msapplication-TileImage" content="icons/icon-144x144.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">Lumina<span class="logo-accent">.</span></a>
            <div class="nav-links">
                <a href="#collection">Books</a>
                <a href="admin.html">Admin</a>
                <button id="cart-btn" class="cart-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                            d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" />
                        <path
                            d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" />
                        <path
                            d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" />
                    </svg>
                    <span>Cart</span>
                    <span id="cart-count" class="cart-count">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <h1>Discover Stories That <br>Transform Minds</h1>
            <p>Curated collection of premium books from world-renowned authors</p>
        </div>
    </header>

    <!-- Books Section -->
    <section class="books-section" id="collection">
        <div class="container">
            <div class="section-header">
                <h2>Curated Collection</h2>
            </div>

            <!-- Categories -->
            <div class="categories">
                <button class="cat-btn active" data-category="all">All Books</button>
                <button class="cat-btn" data-category="fiction">Fiction</button>
                <button class="cat-btn" data-category="non-fiction">Non-Fiction</button>
                <button class="cat-btn" data-category="poetry">Poetry</button>
            </div>

            <!-- Books Grid -->
            <div id="book-grid" class="book-grid">
                <!-- Books injected by JavaScript -->
            </div>
        </div>
    </section>

    <!-- AI Chatbot Button -->
    <button id="ai-chat-btn"
        style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: var(--gradient-primary); border: none; cursor: pointer; box-shadow: var(--shadow-glow); z-index: 999; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;"
        onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
        </svg>
    </button>

    <!-- AI Chatbot Window -->
    <div id="ai-chat-window"
        style="position: fixed; bottom: 100px; right: 30px; width: 400px; height: 600px; background: var(--card-bg); border-radius: 16px; border: 1px solid var(--border); box-shadow: var(--shadow-lg); z-index: 999; display: none; flex-direction: column; overflow: hidden;">
        <div
            style="padding: 1.5rem; background: var(--gradient-primary); color: white; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="margin: 0; font-size: 1.25rem;">ü§ñ AI Book Assistant</h3>
                <p style="margin: 0; font-size: 0.85rem; opacity: 0.9;">Ask me about books!</p>
            </div>
            <button id="close-chat"
                style="background: rgba(255,255,255,0.2); border: none; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; color: white; font-size: 1.5rem; display: flex; align-items: center; justify-content: center;">&times;</button>
        </div>
        <div id="chat-messages"
            style="flex: 1; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem;">
            <!-- Messages will be added here -->
        </div>
        <div style="padding: 1rem; border-top: 1px solid var(--border); background: var(--bg-color);">
            <div style="display: flex; gap: 0.5rem;">
                <input type="text" id="chat-input" placeholder="Ask about books..."
                    style="flex: 1; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px; color: var(--text-main); font-family: Outfit;">
                <button id="send-chat"
                    style="padding: 0.75rem 1.5rem; background: var(--gradient-primary); border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">Send</button>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="cart-sidebar">
        <div class="cart-header">
            <h2>Shopping Cart</h2>
            <button class="close-sidebar">&times;</button>
        </div>
        <div id="cart-items" class="cart-items"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total-price" class="cart-total-price">$0.00</span>
            </div>
            <button id="checkout-btn" class="btn btn-primary full-width">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Book Details Modal -->
    <div id="book-modal" class="modal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-grid">
                <div class="modal-media-container" id="modal-media-container"></div>
                <div class="modal-details">
                    <span id="modal-category" class="modal-category"></span>
                    <h2 id="modal-title"></h2>
                    <p id="modal-author" class="modal-author"></p>
                    <div id="modal-price" class="modal-price"></div>
                    <p id="modal-desc" class="modal-desc"></p>
                    <button id="add-to-cart-modal" class="btn btn-primary full-width">Add to Cart</button>

                    <!-- Reviews Section -->
                    <div class="reviews-section">
                        <h3>Customer Reviews</h3>
                        <div id="reviews-container"></div>

                        <!-- Review Form -->
                        <form id="review-form" style="margin-top: 2rem;">
                            <h4 style="margin-bottom: 1rem;">Write a Review</h4>
                            <div class="form-group">
                                <label>Your Name</label>
                                <input type="text" id="review-name" required>
                            </div>
                            <div class="form-group">
                                <label>Rating</label>
                                <select id="review-rating" required>
                                    <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5)</option>
                                    <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê (4)</option>
                                    <option value="3">‚≠ê‚≠ê‚≠ê (3)</option>
                                    <option value="2">‚≠ê‚≠ê (2)</option>
                                    <option value="1">‚≠ê (1)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Your Review</label>
                                <textarea id="review-comment" rows="3" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit Review</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <button class="close-modal-checkout">&times;</button>
            <div style="padding: 2rem;">
                <h2 style="margin-bottom: 2rem;">Checkout</h2>
                <form id="checkout-form">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="name" required>
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="phone" required>
                    </div>
                    <div class="form-group">
                        <label>Shipping Address</label>
                        <textarea id="address" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Payment Method</label>
                        <select id="payment" required>
                            <option value="">Select payment method</option>
                            <option value="card">Credit/Debit Card</option>
                            <option value="upi">UPI</option>
                            <option value="cod">Cash on Delivery</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary full-width">Place Order</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- Scripts -->
    <script src="utils.js"></script>
    <script src="app.js"></script>
    <script src="ai-chat.js"></script>
    <script src="pwa-installer.js"></script>
</body>

</html>